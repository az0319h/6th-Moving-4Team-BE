[한국어](/README.md) | [**English**](/docs/en/README.md) | [简体字](/docs/zh/README.md)

<img width="3212" height="1793" alt="리드미표지" src="https://github.com/user-attachments/assets/7515348e-4e38-42c9-a7c3-96c45524a490" />

## Table of Contents

- [Overview](#overview)
- [Key Features](#key-features)
- [System Architecture](#system-architecture)
- [Tech Stack](#tech-stack)
- [Detailed Features](#detailed-features)
- [Performance Optimization](#performance-optimization)
- [Team Composition and Responsibilities](#team-composition-and-responsibilities)
- [Troubleshooting](#troubleshooting)
- [Backend Folder Structure](#backend-folder-structure)

## Overview

> Moving is a smart moving comparison platform that helps users easily compare quotes from multiple movers and choose the most suitable professional for their needs. It simplifies the previously complex and opaque moving quote process, allowing users to quickly find experts who match their desired conditions (moving type, location, schedule, etc.). Additionally, from the mover's perspective, efficient customer matching is possible, providing a transparent transaction environment and convenient service experience.
>
> Project Period: 2025.07.01 ~ 2025.08.18 <br />


- [Frontend Repository](https://github.com/az0319h/6th-Moving-4Team-FE)
- [FE Deployment Site](https://moving-web.site/ko)
- [BE Deployment Site](https://api.moving-web.site/)
- [Swagger API](https://api.moving-web.site/docs/)

## Key Features

<table>
  <thead>
    <tr>
      <th align="center">Landing & Contact</th>
      <th align="center">Find Movers</th>
      <th align="center">Profile Registration</th>
      <th align="center">Quote Request</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td align="center">
        <img src="https://github.com/user-attachments/assets/a7dc306f-fd4a-49a5-a78c-88b7523cf19b" alt="Landing & Contact" width="200">
      </td>
      <td align="center">
        <img src="https://github.com/user-attachments/assets/77e85b0f-6da1-4ffb-8e18-e5e86ca4c0b1" alt="Find Movers" width="200">
      </td>
      <td align="center">
        <img src="https://github.com/user-attachments/assets/6ff5b0ac-916e-4657-b865-1cf31c72daaf" alt="Profile Registration" width="200">
      </td>
      <td align="center">
        <img src="https://github.com/user-attachments/assets/6ae0fa3a-43b6-4fd5-b5f0-4363d3be046b" alt="Quote Request" width="200">
      </td>
    </tr>
  </tbody>
</table>
<table>
  <thead>
    <tr>
      <th align="center">Write Reviews</th>
      <th align="center">Quote Calculator</th>
      <th align="center">Real-time Chat</th>
      <th align="center">Community</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td align="center">
        <img src="https://github.com/user-attachments/assets/07c810ea-87c8-4b07-a80a-e16b3fcfd602" alt="Write Reviews" width="200">
      </td>
      <td align="center">
        <img src="https://github.com/user-attachments/assets/97374679-cf21-487b-ac21-29191689936a" alt="Quote Calculator" width="200">
      </td>
      <td align="center">
        <img src="https://github.com/user-attachments/assets/c3a96807-55bf-4328-9b05-549f6e6f2f39" alt="Real-time Chat" width="200">
      </td>
      <td align="center">
        <img src="https://github.com/user-attachments/assets/8ff7abca-d4e5-4fca-8a39-5431a0587e2a" alt="Community" width="200">
      </td>
    </tr>
  </tbody>
</table>

## System Architecture

<img width="3212" height="2023" alt="fa68b90569ee2253" src="https://github.com/user-attachments/assets/b271e73e-7096-412c-8cfa-a7b8318607f2" />

## Tech Stack

### Frontend

![Next.js](https://img.shields.io/badge/Next.js-000000?style=flat-square&logo=next.js&logoColor=white)
![TypeScript](https://img.shields.io/badge/TypeScript-3178C6?style=flat-square&logo=typescript&logoColor=white)
![TailwindCSS](https://img.shields.io/badge/Tailwind_CSS-38B2AC?style=flat-square&logo=tailwind-css&logoColor=white)

### Backend

![Node.js](https://img.shields.io/badge/Node.js-339933?style=flat-square&logo=node.js&logoColor=white)
![Express.js](https://img.shields.io/badge/Express.js-000000?style=flat-square&logo=express&logoColor=white)
![TypeScript](https://img.shields.io/badge/TypeScript-3178C6?style=flat-square&logo=typescript&logoColor=white)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-4169E1?style=flat-square&logo=postgresql&logoColor=white)
![Prisma](https://img.shields.io/badge/Prisma-2D3748?style=flat-square&logo=prisma&logoColor=white)
![Firebase](https://img.shields.io/badge/Firebase-FFCA28?style=flat-square&logo=firebase&logoColor=black)
![RDS](https://img.shields.io/badge/AWS_RDS-527FFF?style=flat-square&logo=amazon-rds&logoColor=white)
![S3](https://img.shields.io/badge/AWS_S3-569A31?style=flat-square&logo=amazon-s3&logoColor=white)

### Libraries

![date-fns](https://img.shields.io/badge/date--fns-770C56?style=flat-square&logo=date-fns&logoColor=white)
![react-icons](https://img.shields.io/badge/react--icons-E91E63?style=flat-square&logo=react&logoColor=white)
![react-hook-form](https://img.shields.io/badge/react--hook--form-EC5990?style=flat-square&logo=reacthookform&logoColor=white)
![TanStack Query](https://img.shields.io/badge/TanStack_Query-FF4154?style=flat-square&logo=react-query&logoColor=white)
![Cookie-Parser](https://img.shields.io/badge/Cookie--Parser-8A2BE2?style=flat-square&logoColor=white)
![bcrypt](https://img.shields.io/badge/bcrypt-00BFFF?style=flat-square&logo=lock&logoColor=white)
![JWT](https://img.shields.io/badge/JWT-000000?style=flat-square&logo=jsonwebtokens&logoColor=white)
![Passport.js](https://img.shields.io/badge/Passport.js-34E27A?style=flat-square&logo=passport&logoColor=white)

### Hosting & Deployment

![Vercel](https://img.shields.io/badge/Vercel-000000?style=flat-square&logo=vercel&logoColor=white)
![Render](https://img.shields.io/badge/Render-000000?style=flat-square&logo=render&logoColor=white)
![EC2](https://img.shields.io/badge/AWS_EC2-FF9900?style=flat-square&logo=amazon-ec2&logoColor=white)
![Route 53](https://img.shields.io/badge/Route_53-8C4FFF?style=flat-square&logo=amazon-route-53&logoColor=white)

### CI/CD

![GitHub Actions](https://img.shields.io/badge/GitHub_Actions-2088FF?style=flat-square&logo=github-actions&logoColor=white)

### Etc

![Sentry](https://img.shields.io/badge/Sentry-362D59?style=flat-square&logo=sentry&logoColor=white)
![DeepL](https://img.shields.io/badge/DeepL-0F2B46?style=flat-square&logo=deepl&logoColor=white)
![Jest](https://img.shields.io/badge/Jest-C21325?style=flat-square&logo=jest&logoColor=white)

## Detailed Features

- **Find Movers**: Filtering and sorting based on location, service type, and ratings
- **Social Login**: Support for Google, Kakao, and Naver social login
- **Profile**: Management of personal information, moving types, and regional information
- **Quote Request**: Chat-based quote request system
- **Quote Management**: Check received quotes, approve/reject, and track progress
- **Favorites**: Save and manage preferred movers
- **Reviews**: Write reviews and view ratings after moving completion
- **Multi-language Support**: Complete support for Korean (default), English, and Chinese
- **Real-time Notifications**: SSE-based real-time notification system
- **Community**: Space for user communication and information sharing
- **Customer Support**: Inquiry submission and file upload support
- **Real-time Chat**: Firebase-based real-time chat functionality between customers and movers
- **Quote Calculator**: Basic quote and OpenAI GPT-4-based quote calculation system

## Performance Optimization

- **Next.js App Router** based server components
- **React Suspense** and **lazy loading**
- **TanStack Query** caching strategy
- **Image optimization** (Next.js Image component)
- **Code splitting** and **bundle optimization**

## Team Composition and Responsibilities

<table align="center">
  <tbody>
    <tr>
      <th>Team Leader</th>
      <th>Member</th>
      <th>Member</th>
      <th>Member</th>
      <th>Member</th>
      <th>Member</th>
      <th>Member</th>
    </tr>
    <tr>
      <td align="center">
        <a href="https://github.com/az0319h">
          <img src="https://github.com/az0319h.png?size=100" width="100px" alt="Hong Seonghun"/>
          <br />
          <b>Hong Seonghun</b>
        </a>
      </td>
      <td align="center">
        <a href="https://github.com/fiivxyxxng">
          <img src="https://github.com/fiivxyxxng.png?size=100" width="100px" alt="Oh Hayoung"/>
          <br />
          <b>Oh Hayoung</b>
        </a>
      </td>
      <td align="center">
        <a href="https://github.com/writing-sky">
          <img src="https://github.com/writing-sky.png?size=100" width="100px" alt="Yang Seongkyung"/>
          <br />
          <b>Yang Seongkyung</b>
        </a>
      </td>
      <td align="center">
        <a href="https://github.com/suKyoung25">
          <img src="https://github.com/suKyoung25.png?size=100" width="100px" alt="Kim Sukyung"/>
          <br />
          <b>Kim Sukyung</b>
        </a>
      </td>
      <td align="center">
        <a href="https://github.com/jbinyim">
          <img src="https://github.com/jbinyim.png?size=100" width="100px" alt="Lim Jungbin"/>
          <br />
          <b>Lim Jungbin</b>
        </a>
      </td>
      <td align="center">
        <a href="https://github.com/Shinmilli">
          <img src="https://github.com/Shinmilli.png?size=100" width="100px" alt="Shin Sumin"/>
          <br />
          <b>Shin Sumin</b>
        </a>
      </td>
      <td align="center">
        <a href="https://github.com/shimyubin">
          <img src="https://github.com/shimyubin.png?size=100" width="100px" alt="Shim Yubin"/>
          <br />
          <b>Shim Yubin</b>
        </a>
      </td>
    </tr>
    <tr>
      <td align="center">
        <a href="https://pointed-afternoon-24b.notion.site/2173fde0e19480728178dce120cbdabb" target="_blank">Personal Report</a>
      </td>
      <td align="center">
        <a href="https://immediate-conga-b1b.notion.site/217fb120f2ad80ea85b2e44377f62a58" target="_blank">Personal Report</a>
      </td>
      <td align="center">
        <a href="https://www.notion.so/3-21788b3cb86180698299f89f0ee4ff53" target="_blank">Personal Report</a>
      </td>
      <td align="center">
        <a href="https://www.notion.so/21783b8d694c801db314d01f63cd68c4" target="_blank">Personal Report</a>
      </td>
      <td align="center">
        <a href="https://www.notion.so/217e8b00d07a8036a583ddb33c62345d" target="_blank">Personal Report</a>
      </td>
      <td align="center">
        <a href="https://www.notion.so/2177a895c9ac8039a81fc7aad5fdbaed" target="_blank">Personal Report</a>
      </td>
      <td align="center">
        <a href="https://www.notion.so/1c4c0886ab1380968ff8febb837182c7" target="_blank">Personal Report</a>
      </td>
    </tr>
  </tbody>
</table>

- **Hong Seonghun**

  - Rejection request and sent quote list API
  - Quote request and rejection API
  - Received request inquiry API
  - Received request and rejection request detail API
  - Quote request and rejection cancellation API

- **Oh Hayoung**

  - Quote request API
  - Received request inquiry API
  - Notification API
  - AWS RDS, S3 setup and EC2 deployment
  - S3 image upload implementation

- **Yang Seongkyung**

  - General user login/signup API
  - General user profile registration/modification API
  - Social login API
  - express-rate-limit middleware

- **Kim Sukyung**

  - Mover login/signup API
  - Mover profile registration/modification API
  - Mover basic information modification API
  - Social login initial setup
  - Account withdrawal functionality

- **Lim Jungbin**

  - Pending quote inquiry API
  - Received quote inquiry API
  - Quote detail inquiry API
  - Quote confirmation API
  - Community post and comment creation, inquiry, deletion API

- **Shin Sumin**

  - Member/non-member authentication middleware
  - Mover list inquiry API
  - Mover detail inquiry API
  - Mover profile inquiry API
  - Mover favorite toggle API

- **Shim Yubin**
  - Writable review list API
  - Review CRUD
  - Favorite mover list API
  - DeepL API

## Troubleshooting

<details>
<summary><strong> Korean Input Chat Duplicate Transmission Issue (Mac / Safari / macOS Environment) </strong></summary>
<div markdown="1">

#### Problem Situation

- In Windows environment, chat is sent normally with one Enter key press
- In Mac / Safari / macOS environment, when Korean composition input is completed and Enter key is pressed, the same message is sent twice
- Mainly occurs when using composition input (IME, Input Method Editor)

#### Cause Analysis

- In macOS, Korean input event flow is as follows:
  `keydown → compositionstart → compositionupdate → compositionend → keydown`
- After compositionend, keydown event occurs again, causing Enter event to be called twice
- Current message sending logic only detects Enter key events, so when Enter is called twice after composition completion, duplicate transmission occurs

#### Solution

- Ignore Enter events during Korean input composition (`compositionstart` ~ `compositionend`)
- Check `isComposing` state in `onKeyDown` event handler to determine message sending
- Tested identical behavior across Windows / Mac / mobile environments

```typescript
const [isComposing, setIsComposing] = useState(false);

const handleKeyDown = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {
  if (e.key === "Enter" && !e.shiftKey && !isComposing) {
    e.preventDefault();
    sendMessage();
  }
};

<textarea
  onCompositionStart={() => setIsComposing(true)}
  onCompositionEnd={() => setIsComposing(false)}
  onKeyDown={handleKeyDown}
/>;
```

</div>
</details>

<details>
<summary><strong> Quote Request Form Draft Save and Synchronization Issue </strong></summary>
<div markdown="1">

#### Problem Situation

- Implemented automatic saving of form intermediate state to server during quote request, designed to load initially saved draft from server and update server through `saveDraft` logic when form state updates
- However, even though `savedDraft` reflects the latest state, when retrieving draft again, previous state is returned, causing latest saved state not to be reflected on refresh or page navigation

#### Cause Analysis

- Using `debouncedSave` caused timing issues where latest state wasn't fully reflected to server
- React Query application caused previous draft cache to persist on new requests, preventing latest data reflection
- `currentStep` value wasn't initialized in context and was set back to previous state, causing mismatch between server draft and local state

#### Solution

- **Remove debouncedSave**: Eliminate timing issues by changing to immediate save
- **Apply dual save structure**: Update both `localStorage` and server draft when form state updates → maintain identical state even on refresh/page navigation
- **Initial loading priority**: Prioritize `localStorage` value if it exists, otherwise load server draft as initial state
- **Improve currentStep synchronization**: Initialize based on server draft's `currentStep` and ensure both local/server sides are updated on client updates

</div>
</details>

## Backend Folder Structure

```
6th-Moving-4Team-BE
├─ .prettierrc              # Code formatting settings
├─ README.md
├─ jest.config.ts           # Jest test configuration
├─ package-lock.json
├─ package.json             # Project dependencies/scripts
├─ prisma
│  ├─ migrations            # DB migration records
│  ├─ schema.prisma         # Prisma ORM schema
├─ src
│  ├─ app.ts                # Express app initialization
│  ├─ configs               # Environment/library configuration
│  ├─ constants             # Constants collection
│  ├─ controllers           # Request handling controllers
│  ├─ dtos                  # Request/response DTO definitions
│  ├─ instrument.ts         # Monitoring configuration
│  ├─ integration-test      # Integration tests
│  ├─ middlewares           # Express middlewares
│  ├─ mocks                 # Mock data for testing
│  ├─ repositories          # DB access layer
│  ├─ routers               # Router definitions
│  ├─ schedule              # Scheduler tasks
│  ├─ server.ts             # Server execution entry point
│  ├─ services              # Business logic
│  ├─ swagger.ts            # Swagger UI configuration
│  ├─ swagger.yaml          # API specification
│  ├─ types                 # Common type definitions
│  └─ utils                 # Utility functions
└─ tsconfig.json            # TypeScript configuration

```

